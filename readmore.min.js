(function(c){function g(a,b){this.element=a;this.options=c.extend({},h,b);c(this.element).data("max-height",this.options.maxHeight);c(this.element).data("height-margin",this.options.heightMargin);delete this.options.maxHeight;if(this.options.embedCSS&&!k){var d=".readmore-js-toggle, .readmore-js-section { "+this.options.sectionCSS+" } .readmore-js-section { overflow: hidden; }",e=document.createElement("style");e.type="text/css";e.styleSheet?e.styleSheet.cssText=d:e.appendChild(document.createTextNode(d));
document.getElementsByTagName("head")[0].appendChild(e);k=!0}this._defaults=h;this._name=f;this.init()}var f="readmore",h={speed:100,maxHeight:200,heightMargin:16,moreLink:'<a href="#">Read More</a>',lessLink:'<a href="#">Close</a>',embedCSS:!0,sectionCSS:"display: block; width: 100%;",startOpen:!1,expandedClass:"readmore-js-expanded",collapsedClass:"readmore-js-collapsed",beforeToggle:function(){},afterToggle:function(){}},k=!1;g.prototype={init:function(){var a=this;c(this.element).each(function(){var b=
c(this),d=b.css("max-height").replace(/[^-\d\.]/g,"")>b.data("max-height")?b.css("max-height").replace(/[^-\d\.]/g,""):b.data("max-height"),e=b.data("height-margin");"none"!=b.css("max-height")&&b.css("max-height","none");b.data("boxHeight",b.outerHeight(!0));if(b.outerHeight(!0)<=d+e)return!0;b.addClass("readmore-js-section "+a.options.collapsedClass).data("sliderHeight",d);b.after(c(a.options.startOpen?a.options.lessLink:a.options.moreLink).on("click",function(c){a.toggleSlider(this,b,c)}).addClass("readmore-js-toggle"));
a.options.startOpen||b.css({height:d})})},toggleSlider:function(a,b,d){d.preventDefault();var e=this;d=newLink=sectionClass="";var f=!1;d=c(b).data("sliderHeight");c(b).height()==d?(d=c(b).data().boxHeight+"px",newLink="lessLink",f=!0,sectionClass=e.options.expandedClass):(newLink="moreLink",sectionClass=e.options.collapsedClass);e.options.beforeToggle(a,b,f);c(b).animate({height:d},{duration:e.options.speed,complete:function(){e.options.afterToggle(a,b,f);c(a).replaceWith(c(e.options[newLink]).on("click",
function(a){e.toggleSlider(this,b,a)}).addClass("readmore-js-toggle"));c(this).removeClass(e.options.collapsedClass+" "+e.options.expandedClass).addClass(sectionClass)}})},destroy:function(){c(this.element).each(function(){var a=c(this);a.removeClass("readmore-js-section "+$this.options.collapsedClass+" "+$this.options.expandedClass).css({"max-height":"",height:"auto"}).next(".readmore-js-toggle").remove();a.removeData()})}};c.fn[f]=function(a){var b=arguments;if(void 0===a||"object"===typeof a)return this.each(function(){c.data(this,
"plugin_"+f)||c.data(this,"plugin_"+f,new g(this,a))});if("string"===typeof a&&"_"!==a[0]&&"init"!==a)return this.each(function(){var d=c.data(this,"plugin_"+f);d instanceof g&&"function"===typeof d[a]&&d[a].apply(d,Array.prototype.slice.call(b,1))})}})(jQuery);
