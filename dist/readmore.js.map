{"version":3,"sources":["webpack:///webpack/bootstrap 24e2046569ad699aab99","webpack:///./src/readmore.js"],"names":["uniqueIdCounter","isCssEmbeddedFor","extend","hasProp","hasOwnProperty","objects","child","parent","length","args","forEach","value","push","c1","shift","p1","unshift","Object","keys","key","call","debounce","func","wait","immediate","timeout","debouncedFunc","callNow","later","apply","clearTimeout","setTimeout","uniqueId","prefix","setBoxHeights","element","style","height","expandedHeight","parseInt","getBoundingClientRect","cssMaxHeight","window","getComputedStyle","maxHeight","defaultHeight","readmore","collapsedHeight","createElementFromString","htmlString","div","document","createElement","innerHTML","firstChild","embedCSS","options","selector","styles","blockCSS","speed","d","u","css","type","styleSheet","cssText","appendChild","createTextNode","getElementsByTagName","buildToggle","link","scope","clickHandler","event","toggle","target","toggleLink","setAttribute","id","addEventListener","bind","isEnvironmentSupported","querySelectorAll","resizeBoxes","expanded","getAttribute","defaults","heightMargin","moreLink","lessLink","startOpen","blockProcessed","beforeToggle","afterToggle","Readmore","parentNode","insertBefore","nextSibling","querySelector","Error","trigger","preventDefault","stopPropagation","newHeight","transitionendHandler","transitionEvent","removeEventListener","replaceChild","console","warn","VERSION"],"mappings":"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","file":"readmore.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 24e2046569ad699aab99","let uniqueIdCounter = 0;\n\nconst isCssEmbeddedFor = [];\n\nfunction extend(...objects) {\n  const hasProp = {}.hasOwnProperty;\n  let child = objects[0];\n  let parent = objects[1];\n\n  if (objects.length > 2) {\n    const args = [];\n\n    objects.forEach((value) => {\n      args.push(value);\n    });\n\n    while (args.length > 2) {\n      const c1 = args.shift();\n      const p1 = args.shift();\n      args.unshift(extend(c1, p1));\n    }\n\n    child = args.shift();\n    parent = args.shift();\n  }\n\n  Object.keys(parent).forEach((key) => {\n    if (hasProp.call(parent, key)) {\n      if (typeof parent[key] === 'object') {\n        child[key] = child[key] || {};\n        child[key] = extend(child[key], parent[key]);\n      } else {\n        child[key] = parent[key];\n      }\n    }\n  });\n\n  return child;\n}\n\nfunction debounce(func, wait, immediate) {\n  let timeout;\n\n  return function debouncedFunc(...args) {\n    const callNow = immediate && !timeout;\n    const later = () => {\n      timeout = null;\n      if (!immediate) func.apply(this, args);\n    };\n\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n\n    if (callNow) func.apply(this, args);\n  };\n}\n\nfunction uniqueId(prefix = 'rmjs-') {\n  uniqueIdCounter += 1;\n\n  return `${prefix}${uniqueIdCounter}`;\n}\n\nfunction setBoxHeights(element) {\n  element.style.height = 'auto';\n\n  const expandedHeight = parseInt(element.getBoundingClientRect().height, 10);\n  const cssMaxHeight = parseInt(window.getComputedStyle(element).maxHeight, 10);\n  const defaultHeight = parseInt(element.readmore.defaultHeight, 10);\n\n  // Store our measurements.\n  element.readmore.expandedHeight = expandedHeight;\n  element.readmore.maxHeight = cssMaxHeight;\n  element.readmore.collapsedHeight = cssMaxHeight || element.readmore.collapsedHeight || defaultHeight;\n\n  element.style.maxHeight = 'none';\n}\n\nfunction createElementFromString(htmlString) {\n  const div = document.createElement('div');\n  div.innerHTML = htmlString;\n\n  return div.firstChild;\n}\n\nfunction embedCSS(options) {\n  if (!isCssEmbeddedFor[options.selector]) {\n    let styles = ' ';\n\n    if (options.embedCSS && options.blockCSS !== '') {\n      styles += `${options.selector} + [data-readmore-toggle], ${options.selector}[data-readmore] {\n        ${options.blockCSS}\n      }`;\n    }\n\n    // Include the transition CSS even if embedCSS is false\n    styles += `${options.selector}[data-readmore] {\n      transition: height ${options.speed}ms;\n      overflow: hidden;\n    }`;\n\n    (((d, u) => {\n      const css = d.createElement('style');\n      css.type = 'text/css';\n\n      if (css.styleSheet) {\n        css.styleSheet.cssText = u;\n      } else {\n        css.appendChild(d.createTextNode(u));\n      }\n\n      d.getElementsByTagName('head')[0].appendChild(css);\n    })(document, styles));\n\n    isCssEmbeddedFor[options.selector] = true;\n  }\n}\n\nfunction buildToggle(link, element, scope) {\n  function clickHandler(event) {\n    this.toggle(event.target, element, event);\n  }\n\n  const toggleLink = createElementFromString(link);\n  toggleLink.setAttribute('data-readmore-toggle', element.id);\n  toggleLink.setAttribute('aria-controls', element.id);\n  toggleLink.addEventListener('click', clickHandler.bind(scope));\n\n  return toggleLink;\n}\n\nfunction isEnvironmentSupported() {\n  return (typeof window !== 'undefined' && typeof document !== 'undefined')\n    && !!document.querySelectorAll && !!window.addEventListener;\n}\n\nconst resizeBoxes = debounce(() => {\n  document.querySelectorAll('[data-readmore]').forEach((element) => {\n    const expanded = element.getAttribute('aria-expanded') === 'true';\n\n    setBoxHeights(element);\n\n    element.style.height = `${expanded ? element.readmore.expandedHeight : element.readmore.collapsedHeight}px`;\n  });\n}, 100);\n\nconst defaults = {\n  speed: 100,\n  collapsedHeight: 200,\n  heightMargin: 16,\n  moreLink: '<a href=\"#\">Read More</a>',\n  lessLink: '<a href=\"#\">Close</a>',\n  embedCSS: true,\n  blockCSS: 'display: block; width: 100%;',\n  startOpen: false,\n\n  // callbacks\n  blockProcessed: () => {},\n  beforeToggle: () => {},\n  afterToggle: () => {}\n};\n\nclass Readmore {\n  constructor(selector, options) {\n    if (!isEnvironmentSupported()) return;\n\n    this.options = extend({}, defaults, options);\n    this.options.selector = selector;\n\n    embedCSS(this.options);\n\n    // Need to resize boxes when the page has fully loaded.\n    window.addEventListener('load', resizeBoxes);\n    window.addEventListener('resize', resizeBoxes);\n\n    document.querySelectorAll(selector).forEach((element) => {\n      const expanded = this.options.startOpen;\n\n      element.readmore = {\n        defaultHeight: this.options.collapsedHeight,\n        heightMargin: this.options.heightMargin\n      };\n\n      setBoxHeights(element);\n\n      const { heightMargin } = element.readmore;\n\n      if (element.getBoundingClientRect().height <= element.readmore.collapsedHeight + heightMargin) {\n        if (typeof this.options.blockProcessed === 'function') {\n          this.options.blockProcessed(element, false);\n        }\n        return;\n      }\n\n      const id = element.id || uniqueId();\n\n      element.setAttribute('data-readmore', '');\n      element.setAttribute('aria-expanded', expanded);\n      element.id = id;\n\n      const toggleLink = expanded ? this.options.lessLink : this.options.moreLink;\n\n      element.parentNode.insertBefore(buildToggle(toggleLink, element, this), element.nextSibling);\n\n      element.style.height = `${expanded ? element.readmore.expandedHeight : element.readmore.collapsedHeight}px`;\n\n      if (typeof this.options.blockProcessed === 'function') {\n        this.options.blockProcessed(element, true);\n      }\n    }, this);\n  }\n\n  // Signature when called internally by the toggleLink click handler:\n  //   toggle(trigger, element, event)\n  //\n  // When called externally by an instance,\n  // e.g. readmoreDemo.toggle(document.querySelector('article:nth-of-type(1)')):\n  //   toggle(elementOrQuerySelector)\n  toggle(...args) {\n    let element = args[1] || args.shift();\n\n    if (typeof element === 'string') {\n      element = document.querySelector(element);\n    }\n\n    if (element === null) {\n      throw new Error('Element MUST be either an HTML node or querySelector string');\n    }\n\n    const trigger = args[0] || document.querySelector(`[aria-controls=\"${element.id}\"]`);\n    const event = args[2];\n\n    if (event) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n\n    const expanded = element.getBoundingClientRect().height <= element.readmore.collapsedHeight;\n    const newHeight = expanded ? element.readmore.expandedHeight : element.readmore.collapsedHeight;\n\n    // Fire beforeToggle callback\n    // Since we determined the new \"expanded\" state above we're now out of sync\n    // with our true current state, so we need to flip the value of `expanded`\n    if (typeof this.options.beforeToggle === 'function') {\n      this.options.beforeToggle(trigger, element, !expanded);\n    }\n\n    element.style.height = `${newHeight}px`;\n\n    const transitionendHandler = (transitionEvent) => {\n      // Fire afterToggle callback\n      if (typeof this.options.afterToggle === 'function') {\n        this.options.afterToggle(trigger, element, expanded);\n      }\n\n      transitionEvent.stopPropagation();\n\n      element.setAttribute('aria-expanded', expanded);\n      element.removeEventListener('transitionend', transitionendHandler, false);\n    };\n\n    element.addEventListener('transitionend', transitionendHandler, false);\n\n    if (this.options.speed < 1) {\n      transitionendHandler.call(this, { target: element });\n    }\n\n    const toggleLink = expanded ? this.options.lessLink : this.options.moreLink;\n\n    trigger.parentNode.replaceChild(buildToggle(toggleLink, element, this), trigger);\n  }\n\n  destroy() {\n    // TBD\n    console.warn(this);\n  }\n}\n\nReadmore.VERSION = __VERSION__;\n\nexport default Readmore;\n\n\n\n// WEBPACK FOOTER //\n// ./src/readmore.js"],"sourceRoot":""}